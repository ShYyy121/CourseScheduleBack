import{p as A,ab as B,ac as te,ad as X,ae as Z,I as _,af as oe,ag as ae,J as r,S as ne,P as se,ah as $,ai as le,R as ue,N as z,aj as ie,m as re,y as ce,n as ve,X as de,s as ye,a as K}from"./index-1d7bfa1d.js";const M=Symbol.for("vuetify:layout"),D=Symbol.for("vuetify:layout-item"),U=1e3,be=A({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Ie=A({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function fe(){const o=B(M);if(!o)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:o.getLayoutItem,mainRect:o.mainRect,mainStyles:o.mainStyles}}function xe(o){const c=B(M);if(!c)throw new Error("[Vuetify] Could not find injected layout");const a=o.id??`layout-item-${te()}`,v=X("useLayoutItem");Z(D,{id:a});const n=_(!1);oe(()=>n.value=!0),ae(()=>n.value=!1);const{layoutItemStyles:l,layoutItemScrimStyles:u}=c.register(v,{...o,active:r(()=>n.value?!1:o.active.value),id:a});return ne(()=>c.unregister(a)),{layoutItemStyles:l,layoutRect:c.layoutRect,layoutItemScrimStyles:u}}const me=(o,c,a,v)=>{let n={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...n}}];for(const u of o){const m=c.get(u),g=a.get(u),R=v.get(u);if(!m||!g||!R)continue;const h={...n,[m.value]:parseInt(n[m.value],10)+(R.value?parseInt(g.value,10):0)};l.push({id:u,layer:h}),n=h}return l};function Se(o){const c=B(M,null),a=r(()=>c?c.rootZIndex.value-100:U),v=se([]),n=$(new Map),l=$(new Map),u=$(new Map),m=$(new Map),g=$(new Map),{resizeRef:R,contentRect:h}=le(),q=r(()=>{const t=new Map,d=o.overlaps??[];for(const e of d.filter(i=>i.includes(":"))){const[i,s]=e.split(":");if(!v.value.includes(i)||!v.value.includes(s))continue;const f=n.get(i),p=n.get(s),S=l.get(i),w=l.get(s);!f||!p||!S||!w||(t.set(s,{position:f.value,amount:parseInt(S.value,10)}),t.set(i,{position:p.value,amount:-parseInt(w.value,10)}))}return t}),b=r(()=>{const t=[...new Set([...u.values()].map(e=>e.value))].sort((e,i)=>e-i),d=[];for(const e of t){const i=v.value.filter(s=>{var f;return((f=u.get(s))==null?void 0:f.value)===e});d.push(...i)}return me(d,n,l,m)}),k=r(()=>!Array.from(g.values()).some(t=>t.value)),I=r(()=>b.value[b.value.length-1].layer),F=r(()=>({"--v-layout-left":z(I.value.left),"--v-layout-right":z(I.value.right),"--v-layout-top":z(I.value.top),"--v-layout-bottom":z(I.value.bottom),...k.value?void 0:{transition:"none"}})),x=r(()=>b.value.slice(1).map((t,d)=>{let{id:e}=t;const{layer:i}=b.value[d],s=l.get(e),f=n.get(e);return{id:e,...i,size:Number(s.value),position:f.value}})),E=t=>x.value.find(d=>d.id===t),V=X("createLayout"),N=_(!1);ue(()=>{N.value=!0}),Z(M,{register:(t,d)=>{let{id:e,order:i,position:s,layoutSize:f,elementSize:p,active:S,disableTransitions:w,absolute:Y}=d;u.set(e,i),n.set(e,s),l.set(e,f),m.set(e,S),w&&g.set(e,w);const T=ie(D,V==null?void 0:V.vnode).indexOf(t);T>-1?v.value.splice(T,0,e):v.value.push(e);const j=r(()=>x.value.findIndex(L=>L.id===e)),P=r(()=>a.value+b.value.length*2-j.value*2),G=r(()=>{const L=s.value==="left"||s.value==="right",C=s.value==="right",ee=s.value==="bottom",H={[s.value]:0,zIndex:P.value,transform:`translate${L?"X":"Y"}(${(S.value?0:-110)*(C||ee?-1:1)}%)`,position:Y.value||a.value!==U?"absolute":"fixed",...k.value?void 0:{transition:"none"}};if(!N.value)return H;const y=x.value[j.value];if(!y)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const O=q.value.get(e);return O&&(y[O.position]+=O.amount),{...H,height:L?`calc(100% - ${y.top}px - ${y.bottom}px)`:p.value?`${p.value}px`:void 0,left:C?void 0:`${y.left}px`,right:C?`${y.right}px`:void 0,top:s.value!=="bottom"?`${y.top}px`:void 0,bottom:s.value!=="top"?`${y.bottom}px`:void 0,width:L?p.value?`${p.value}px`:void 0:`calc(100% - ${y.left}px - ${y.right}px)`}}),Q=r(()=>({zIndex:P.value-1}));return{layoutItemStyles:G,layoutItemScrimStyles:Q,zIndex:P}},unregister:t=>{u.delete(t),n.delete(t),l.delete(t),m.delete(t),g.delete(t),v.value=v.value.filter(d=>d!==t)},mainRect:I,mainStyles:F,getLayoutItem:E,items:x,layoutRect:h,rootZIndex:a});const J=r(()=>["v-layout",{"v-layout--full-height":o.fullHeight}]),W=r(()=>({zIndex:a.value,position:c?"relative":void 0,overflow:c?"hidden":void 0}));return{layoutClasses:J,layoutStyles:W,getLayoutItem:E,items:x,layoutRect:h,layoutRef:R}}const pe=A({scrollable:Boolean,...re(),...ce({tag:"main"})},"VMain"),we=ve()({name:"VMain",props:pe(),setup(o,c){let{slots:a}=c;const{mainStyles:v}=fe(),{ssrBootStyles:n}=de();return ye(()=>K(o.tag,{class:["v-main",{"v-main--scrollable":o.scrollable},o.class],style:[v.value,n.value,o.style]},{default:()=>{var l,u;return[o.scrollable?K("div",{class:"v-main__scroller"},[(l=a.default)==null?void 0:l.call(a)]):(u=a.default)==null?void 0:u.call(a)]}})),{}}});export{we as V,Ie as a,Se as c,be as m,xe as u};
